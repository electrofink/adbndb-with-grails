package de.uni_koeln.hs

import util.DateValidator;

class PersonLocations {
	
	static mapping = {
		table "person_locations"
		version false
		personID column: "person_id"
		locationID column: "location_id"
		
		/* id generator:'identity', column:'location_id'
		 id generator:'identity', column:'person_id'
		 id composite:['locationId','personId'], generator:'assigned'*/
	}
	
	static belongTo = [person:Person]
	
	Person personID
	Location locationID
	String startDate
	String endDate
	
	static constraints = {
		personID(nullable:false)
		locationID(nullable:false)
		
		startDate(nullable:false, validator:{val, obj ->
			return DateValidator.validate(val, false)
		})
		
		endDate(nullable: false, validator:{val, obj ->
			return DateValidator.validate(val, true)
		})
	}
}
