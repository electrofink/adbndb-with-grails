package de.uni_koeln.hs

class Person {
	
	
	Name name
	String dateOfBirth
	String dateOfDeath
	String bio
	boolean gender
	
	
	static hasMany = [names:Name, relations:Relation, confessions:Confession,
		locations:Location, works:Work]
	
	static constraints = {
		bio(maxSize:10000, blank:true)
		
		dateOfBirth(blank:false, validator:{val, obj ->
			return DateValidator.validate(val, false)
		})
		
		dateOfDeath(blank: true, validator:{val, obj ->
			return DateValidator.validate(val, true)
		})
		
		name(nullable:false)
		Relation(nullable:true)
		Confession(nullable:true)
		Location(nullable:true)
		Work(nullable:true)
	}
	
	
	def shortBio() {
		if(bio.length() > 200)
			return bio.substring(0, 200)
		return bio
	}
	
	@Override
	String toString() {
		return names.toString()+": "+this.id
	}
}
