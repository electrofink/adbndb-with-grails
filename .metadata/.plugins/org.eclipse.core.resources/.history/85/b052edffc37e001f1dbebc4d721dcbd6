package de.uni_koeln.hki.thaller

class Person {
	
	String bio
	String dateOfBirth
	String dateOfDeath
	boolean gender
	
	static hasMany = [names:Name, relations:Relation, confessions:Confession,
	locations:Location, works:Work]
	
	static constraints = {
		dateOfBirth(validator:{val, obj ->
			String nums = "[^0-9]"
			if(dateOfBirth.matches(nums)) {
				return false
			}
			
			
			
			if(obj.dateOfDeath != null)
			if(val?.compareTo(obj.dateOfDeath) >= 0) {
				return false
			}
		})
		dateOfDeath(nullable:true)
		bio(maxSize:10000)
	}
	
}
