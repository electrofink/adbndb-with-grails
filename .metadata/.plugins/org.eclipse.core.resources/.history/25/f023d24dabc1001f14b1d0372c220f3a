package de.uni_koeln.hs

class Person {
	
	String bio
	String dateOfBirth
	String dateOfDeath
	
	boolean gender
	
	static hasMany = [names:Name, relations:Relation, confessions:Confession,
		locations:Location, works:Work]
	
	static constraints = {
		dateOfBirth(validator:{val, obj ->
			return DateValidator.validate(val, false)
		})
		
		dateOfDeath(nullable: true, validator:{val, obj ->
			return DateValidator.validate(val, true)
		})
		
		bio(maxSize:10000, blank:true)
		names(nullable:false)
		relations(nullable:true)
		confessions(nullable:true)
		works(nullable:true)
		
	}
	
	
	def shortBio() {
		if(bio.length() > 200)
			return bio.substring(0, 200)
		return bio
	}
	
	@Override
	String toString() {
		return names.toString()+": "+this.id
	}
}
